<div class="new-clusters-wrapper">
  <h1>Create a Cluster</h1>
  <div class="inputs-wrapper" [ngClass]="{ large: selectedCloudAccount }">

    <!-- left -->
    <div class="input-group">
      <mat-form-field>
        <mat-select placeholder="Select a Cloud Account" [(value)]="selectedCloudAccount" (change)="selectCloudAccount($event.value)">
          <mat-option *ngFor="let c of availableCloudAccounts" [value]="c">{{ c.name }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field *ngIf="selectedCloudAccount">
        <input matInput type="text" [(ngModel)]="clusterName" placeholder="Specify Name">
      </mat-form-field>

      <mat-form-field *ngIf="selectedCloudAccount">
        <mat-select placeholder="Select a Region" [(value)]="selectedRegion" (change)="selectRegion($event.value)">
          <mat-option *ngFor="let r of availableRegions?.regions" [value]="r">{{ r.name }}</mat-option>
        </mat-select>
      </mat-form-field>

      <ng-container *ngIf="selectedCloudAccount">
        <div class="machine" *ngFor="let m of machines">
          <mat-form-field class="type">
            <mat-select placeholder="Machine Type (size)" [(value)]="m.machineType">
              <mat-option *ngFor="let type of availableMachineTypes" value="type">{{ type }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="role">
            <mat-select placeholder="Role" [(value)]="m.role" >
              <mat-option value="Master">Master</mat-option>
              <mat-option value="Node">Node</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="quantity">
            <input matInput type="number" placeholder="Q-ty" [value]="m.qty">
          </mat-form-field>

          <svg class="delete" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
             height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
          <g id="Header_x2F_BG" display="none">
            <rect x="-270" y="-270" display="inline" fill="#F1F1F2" width="520" height="520"/>
          </g>
          <g id="Bounding_Boxes">
            <g id="ui_x5F_spec_x5F_header_copy_3">
            </g>
            <path fill="none" d="M0,0h24v24H0V0z"/>
          </g>
          <g id="Rounded" display="none">
            <g id="ui_x5F_spec_x5F_header_copy_5" display="inline">
            </g>
            <path display="inline" d="M6,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V9c0-1.1-0.9-2-2-2H8C6.9,7,6,7.9,6,9V19z M18,4h-2.5l-0.71-0.71
              C14.61,3.11,14.35,3,14.09,3H9.91C9.65,3,9.39,3.11,9.21,3.29L8.5,4H6C5.45,4,5,4.45,5,5v0c0,0.55,0.45,1,1,1h12c0.55,0,1-0.45,1-1
              v0C19,4.45,18.55,4,18,4z"/>
          </g>
          <g id="Sharp" display="none">
            <g id="ui_x5F_spec_x5F_header_copy_4" display="inline">
            </g>
            <path display="inline" d="M6,21h12V7H6V21z M19,4h-3.5l-1-1h-5l-1,1H5v2h14V4z"/>
          </g>
          <g id="Outline">
            <g id="ui_x5F_spec_x5F_header">
            </g>
            <path id="XMLID_282_" d="M16,9v10H8V9H16 M14.5,3h-5l-1,1H5v2h14V4h-3.5L14.5,3L14.5,3z M18,7H6v12c0,1.1,0.9,2,2,2h8
              c1.1,0,2-0.9,2-2V7L18,7z"/>
          </g>
          <g id="Duotone" display="none">
            <g id="ui_x5F_spec_x5F_header_copy_2" display="inline">
            </g>
            <g display="inline">
              <rect x="8" y="9" opacity="0.3" width="8" height="10"/>
              <g>
                <polygon points="15.5,4 14.5,3 9.5,3 8.5,4 5,4 5,6 19,6 19,4      "/>
                <path d="M6,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7H6V19z M8,9h8v10H8V9z"/>
              </g>
            </g>
          </g>
          <g id="Fill" display="none">
            <g id="ui_x5F_spec_x5F_header_copy" display="inline">
            </g>
            <path display="inline" d="M6,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7H6V19z M19,4h-3.5l-1-1h-5l-1,1H5v2h14V4z"/>
          </g>
          <g id="nyt_x5F_exporter_x5F_info" display="none">
          </g>
          </svg>

        </div>
      </ng-container>

      <div class="add-machines" *ngIf="selectedCloudAccount" (click)="addBlankMachine()">
        <svg class="plus" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
           height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
          <g id="Bounding_Boxes">
            <g id="ui_x5F_spec_x5F_header_copy_3" display="none">
            </g>
            <path fill="none" d="M0,0h24v24H0V0z"/>
          </g>
          <g id="Outline">
            <g id="ui_x5F_spec_x5F_header" display="none">
            </g>
            <path d="M13,7h-2v4H7v2h4v4h2v-4h4v-2h-4V7z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20
              c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"/>
          </g>
        </svg>
        <span class="add-label">Add more machines</span>
      </div>
    </div>

    <!-- right -->
    <div class="input-group" *ngIf="selectedCloudAccount">
      <div>
        <mat-form-field>
          <mat-select placeholder="Select a Cloud Account" [(value)]="selectedCloudAccount" (change)="selectCloudAccount($event.value)">
            <mat-option *ngFor="let c of cloudAccounts" [value]="c">{{ c.name }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <mat-form-field>
        <mat-select placeholder="Select a Cloud Account" [(value)]="selectedCloudAccount" (change)="selectCloudAccount($event.value)">
          <mat-option *ngFor="let c of cloudAccounts" [value]="c">{{ c.name }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>



    <!-- <div class="new-cluster-inputs-wrapper">
      <json-schema-form *ngIf="selectedCloudAccount"
        [schema]="schema"
        [layout]="layout"
        [(data)]="data"
        framework="material-design"
        (onChanges)="value=$event"
        (onSubmit)="createCluster($event)">
      </json-schema-form>
    </div> -->
  </div>
</div>
